(()=>{var e={};e.id=424,e.ids=[424],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4540:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d}),a(115),a(7218),a(5866);var t=a(3191),l=a(8716),r=a(7922),i=a.n(r),n=a(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["phase-doc",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,115)),"/Users/air/Projects/ora-system/src/ui/react-app/app/phase-doc/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7218)),"/Users/air/Projects/ora-system/src/ui/react-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/air/Projects/ora-system/src/ui/react-app/app/phase-doc/page.tsx"],x="/phase-doc/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/phase-doc/page",pathname:"/phase-doc",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1439:(e,s,a)=>{Promise.resolve().then(a.bind(a,447))},447:(e,s,a)=>{"use strict";a.d(s,{default:()=>j});var t=a(326),l=a(7577),r=a(567),i=a(4327),n=a(4474),c=a(3273),d=a(7389);function o(e,s="file"){if(e.isValid)return"";let a=`⚠️ ${s} structure is incomplete:
`;return e.missingRequiredSections.length>0&&(a+=`
Missing sections:
${e.missingRequiredSections.map(e=>`• ${e}`).join("\n")}`),e.duplicatedSections.length>0&&(a+=`
Duplicated sections:
${e.duplicatedSections.map(e=>`• ${e}`).join("\n")}`),a}var x=a(6283),m=a(6359),p=a(6343),h=a(949);let u=e=>{switch(e){case"planning":return{icon:t.jsx(x.Z,{className:"h-3 w-3"}),label:"Planning",color:"bg-blue-100 text-blue-800"};case"execution":default:return{icon:t.jsx(m.Z,{className:"h-3 w-3"}),label:"Execution",color:"bg-green-100 text-green-800"};case"retrospective":return{icon:t.jsx(p.Z,{className:"h-3 w-3"}),label:"Retrospective",color:"bg-amber-100 text-amber-800"}}};function j(){let e=(0,d.useRouter)(),s=(0,d.useSearchParams)(),[a,x]=(0,l.useState)([]),[m,p]=(0,l.useState)(!0),[j,f]=(0,l.useState)(null),[g,v]=(0,l.useState)({}),[N,b]=(0,l.useState)("all"),[y,w]=(0,l.useState)("all"),[k,_]=(0,l.useState)([]),[P,S]=(0,l.useState)("created_desc"),[C,D]=(0,l.useState)("all"),Z=(0,l.useMemo)(()=>{let e=s.get("phase");return e?a.find(s=>s.phase===parseFloat(e)):a.find(e=>"in_progress"===e.status)},[a,s]),M=(0,l.useMemo)(()=>{let e=new Set;return Z?.loops.forEach(s=>{s.tags.forEach(s=>e.add(s))}),Array.from(e)},[Z]),Q=(0,l.useMemo)(()=>{let e=new Set;return Z?.loops.forEach(s=>{s.workstream&&e.add(s.workstream)}),["all",...Array.from(e)]},[Z]),A=(0,l.useMemo)(()=>{if(!Z)return{planning:[],execution:[],retrospective:[]};let e=Z.loops;return"all"!==N&&(e=e.filter(e=>e.status===N)),"all"!==y&&(e=e.filter(e=>(e.type||"execution")===y)),"all"!==C&&(e=e.filter(e=>e.workstream===C)),k.length>0&&(e=e.filter(e=>k.every(s=>e.tags.includes(s)))),e.sort((e,s)=>"score_desc"===P?s.score-e.score:"score_asc"===P?e.score-s.score:new Date(s.created).getTime()-new Date(e.created).getTime()),{planning:e.filter(e=>"planning"===e.type),execution:e.filter(e=>"execution"===(e.type||"execution")),retrospective:e.filter(e=>"retrospective"===e.type)}},[Z,N,y,C,k,P]);return m?t.jsx("div",{className:"container mx-auto p-4",children:"Loading phase document..."}):j?(0,t.jsxs)("div",{className:"container mx-auto p-4 text-red-500",children:["Error: ",j]}):Z?(0,t.jsxs)("div",{className:"container mx-auto p-4 md:p-8 max-w-4xl",children:[(0,t.jsxs)("header",{className:"mb-4",children:[t.jsx("h1",{className:"text-4xl font-bold mb-2",children:Z.title}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx(r.C,{children:Z.status}),(0,t.jsxs)("span",{className:"text-lg text-gray-600",children:["Phase ",Z.phase]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6 p-4 border rounded-lg bg-slate-50",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phase"}),(0,t.jsxs)(n.Ph,{value:String(Z.phase),onValueChange:s=>{e.push(`/phase-doc?phase=${s}`)},children:[t.jsx(n.i4,{children:t.jsx(n.ki,{})}),t.jsx(n.Bw,{children:a.map(e=>(0,t.jsxs)(n.Ql,{value:String(e.phase),children:["Phase ",e.phase,": ",e.title]},e.id))})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,t.jsxs)(n.Ph,{value:N,onValueChange:b,children:[t.jsx(n.i4,{children:t.jsx(n.ki,{})}),(0,t.jsxs)(n.Bw,{children:[t.jsx(n.Ql,{value:"all",children:"All Statuses"}),t.jsx(n.Ql,{value:"in_progress",children:"In Progress"}),t.jsx(n.Ql,{value:"complete",children:"Complete"})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,t.jsxs)(n.Ph,{value:y,onValueChange:w,children:[t.jsx(n.i4,{children:t.jsx(n.ki,{})}),(0,t.jsxs)(n.Bw,{children:[t.jsx(n.Ql,{value:"all",children:"All Types"}),t.jsx(n.Ql,{value:"planning",children:"\uD83D\uDCD8 Planning"}),t.jsx(n.Ql,{value:"execution",children:"⚙️ Execution"}),t.jsx(n.Ql,{value:"retrospective",children:"\uD83D\uDCD3 Retrospective"})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workstream"}),(0,t.jsxs)(n.Ph,{value:C,onValueChange:D,children:[t.jsx(n.i4,{children:t.jsx(n.ki,{})}),t.jsx(n.Bw,{children:Q.map(e=>t.jsx(n.Ql,{value:e,children:"all"===e?"All Workstreams":e},e))})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),(0,t.jsxs)(n.Ph,{value:k[0]||"all",onValueChange:e=>_("all"===e?[]:[e]),children:[t.jsx(n.i4,{children:t.jsx(n.ki,{placeholder:"Filter by tag..."})}),(0,t.jsxs)(n.Bw,{children:[t.jsx(n.Ql,{value:"all",children:"All Tags"}),M.map(e=>t.jsx(n.Ql,{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,t.jsxs)(n.Ph,{value:P,onValueChange:S,children:[t.jsx(n.i4,{children:t.jsx(n.ki,{})}),(0,t.jsxs)(n.Bw,{children:[t.jsx(n.Ql,{value:"created_desc",children:"Newest First"}),t.jsx(n.Ql,{value:"score_desc",children:"Score (High to Low)"}),t.jsx(n.Ql,{value:"score_asc",children:"Score (Low to High)"})]})]})]})]}),(0,t.jsxs)("main",{className:"space-y-12",children:[(0,t.jsxs)("section",{children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Phase Documentation"}),t.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:Z.content}})]}),(0,t.jsxs)("section",{children:[t.jsx("h2",{className:"text-3xl font-bold mb-6 border-b pb-2",children:"Loops in this Phase"}),A.planning.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:"\uD83D\uDCD8 Strategic Documents"}),t.jsx(i.UQ,{type:"single",collapsible:!0,className:"w-full",children:A.planning.map(e=>{let s=g[e.id],a=!s||s.isValid,l=u(e.type);return(0,t.jsxs)(i.Qd,{value:e.id,children:[t.jsx(i.o4,{children:(0,t.jsxs)("div",{className:"flex flex-col text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-lg",children:e.title}),(0,t.jsxs)(r.C,{variant:"secondary",className:`flex items-center gap-1 ${l.color}`,children:[l.icon,l.label]}),!a&&(0,t.jsxs)(r.C,{variant:"destructive",className:"flex items-center gap-1",children:[t.jsx(h.Z,{className:"h-3 w-3"}),"Incomplete"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:["ID: ",e.id]}),t.jsx(r.C,{variant:"complete"===e.status?"default":"secondary",children:e.status}),(0,t.jsxs)("span",{children:["Score: ",e.score]})]}),e.tags&&e.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map((e,s)=>t.jsx(r.C,{variant:"outline",className:"text-xs",children:e},s))})]})}),(0,t.jsxs)(i.vF,{children:[!a&&s&&(0,t.jsxs)(c.bZ,{variant:"destructive",className:"mb-4",children:[t.jsx(h.Z,{className:"h-4 w-4"}),t.jsx(c.Cd,{children:"Structurally Invalid Loop File"}),t.jsx(c.X,{children:o(s,"Loop file")})]}),t.jsx("div",{className:"prose max-w-none p-4",dangerouslySetInnerHTML:{__html:e.content}})]})]},e.id)})})]}),A.execution.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:"⚙️ Active Loops"}),t.jsx(i.UQ,{type:"single",collapsible:!0,className:"w-full",children:A.execution.map(e=>{let s=g[e.id],a=!s||s.isValid,l=u(e.type);return(0,t.jsxs)(i.Qd,{value:e.id,children:[t.jsx(i.o4,{children:(0,t.jsxs)("div",{className:"flex flex-col text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-lg",children:e.title}),(0,t.jsxs)(r.C,{variant:"secondary",className:`flex items-center gap-1 ${l.color}`,children:[l.icon,l.label]}),!a&&(0,t.jsxs)(r.C,{variant:"destructive",className:"flex items-center gap-1",children:[t.jsx(h.Z,{className:"h-3 w-3"}),"Incomplete"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:["ID: ",e.id]}),t.jsx(r.C,{variant:"complete"===e.status?"default":"secondary",children:e.status}),(0,t.jsxs)("span",{children:["Score: ",e.score]})]}),e.tags&&e.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map((e,s)=>t.jsx(r.C,{variant:"outline",className:"text-xs",children:e},s))})]})}),(0,t.jsxs)(i.vF,{children:[!a&&s&&(0,t.jsxs)(c.bZ,{variant:"destructive",className:"mb-4",children:[t.jsx(h.Z,{className:"h-4 w-4"}),t.jsx(c.Cd,{children:"Structurally Invalid Loop File"}),t.jsx(c.X,{children:o(s,"Loop file")})]}),t.jsx("div",{className:"prose max-w-none p-4",dangerouslySetInnerHTML:{__html:e.content}})]})]},e.id)})})]}),A.retrospective.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:"\uD83D\uDCD3 Retrospectives"}),t.jsx(i.UQ,{type:"single",collapsible:!0,className:"w-full",children:A.retrospective.map(e=>{let s=g[e.id],a=!s||s.isValid,l=u(e.type);return(0,t.jsxs)(i.Qd,{value:e.id,children:[t.jsx(i.o4,{children:(0,t.jsxs)("div",{className:"flex flex-col text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-lg",children:e.title}),(0,t.jsxs)(r.C,{variant:"secondary",className:`flex items-center gap-1 ${l.color}`,children:[l.icon,l.label]}),!a&&(0,t.jsxs)(r.C,{variant:"destructive",className:"flex items-center gap-1",children:[t.jsx(h.Z,{className:"h-3 w-3"}),"Incomplete"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:["ID: ",e.id]}),t.jsx(r.C,{variant:"complete"===e.status?"default":"secondary",children:e.status}),(0,t.jsxs)("span",{children:["Score: ",e.score]})]}),e.tags&&e.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map((e,s)=>t.jsx(r.C,{variant:"outline",className:"text-xs",children:e},s))})]})}),(0,t.jsxs)(i.vF,{children:[!a&&s&&(0,t.jsxs)(c.bZ,{variant:"destructive",className:"mb-4",children:[t.jsx(h.Z,{className:"h-4 w-4"}),t.jsx(c.Cd,{children:"Structurally Invalid Loop File"}),t.jsx(c.X,{children:o(s,"Loop file")})]}),t.jsx("div",{className:"prose max-w-none p-4",dangerouslySetInnerHTML:{__html:e.content}})]})]},e.id)})})]}),0===A.planning.length&&0===A.execution.length&&0===A.retrospective.length&&t.jsx("div",{className:"p-4",children:Z?.loops.length===0?t.jsx("p",{className:"text-muted-foreground",children:"No loops found for this phase."}):t.jsx("p",{className:"text-muted-foreground",children:"No valid loops found matching the current filters."})})]})]})]}):t.jsx("div",{className:"container mx-auto p-4",children:"Phase not found or none are in progress."})}},3273:(e,s,a)=>{"use strict";a.d(s,{Cd:()=>d,X:()=>o,bZ:()=>c});var t=a(326),l=a(7577),r=a(9360),i=a(7863);let n=(0,r.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=l.forwardRef(({className:e,variant:s,...a},l)=>t.jsx("div",{ref:l,role:"alert",className:(0,i.cn)(n({variant:s}),e),...a}));c.displayName="Alert";let d=l.forwardRef(({className:e,...s},a)=>t.jsx("h5",{ref:a,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...s}));d.displayName="AlertTitle";let o=l.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...s}));o.displayName="AlertDescription"},4474:(e,s,a)=>{"use strict";a.d(s,{Bw:()=>u,Ph:()=>o,Ql:()=>j,i4:()=>m,ki:()=>x});var t=a(326),l=a(7577),r=a(6416),i=a(8393),n=a(6633),c=a(2933),d=a(7863);let o=r.fC;r.ZA;let x=r.B4,m=l.forwardRef(({className:e,children:s,...a},l)=>(0,t.jsxs)(r.xz,{ref:l,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,t.jsx(r.JO,{asChild:!0,children:t.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=r.xz.displayName;let p=l.forwardRef(({className:e,...s},a)=>t.jsx(r.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(n.Z,{className:"h-4 w-4"})}));p.displayName=r.u_.displayName;let h=l.forwardRef(({className:e,...s},a)=>t.jsx(r.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(i.Z,{className:"h-4 w-4"})}));h.displayName=r.$G.displayName;let u=l.forwardRef(({className:e,children:s,position:a="popper",...l},i)=>t.jsx(r.h_,{children:(0,t.jsxs)(r.VY,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...l,children:[t.jsx(p,{}),t.jsx(r.l_,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(h,{})]})}));u.displayName=r.VY.displayName,l.forwardRef(({className:e,...s},a)=>t.jsx(r.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=r.__.displayName;let j=l.forwardRef(({className:e,children:s,...a},l)=>(0,t.jsxs)(r.ck,{ref:l,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(r.wU,{children:t.jsx(c.Z,{className:"h-4 w-4"})})}),t.jsx(r.eT,{children:s})]}));j.displayName=r.ck.displayName,l.forwardRef(({className:e,...s},a)=>t.jsx(r.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=r.Z0.displayName},6359:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]])},949:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},115:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var t=a(9510),l=a(1159);let r=(0,a(8570).createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/PhaseDocView.tsx#default`);function i(){return t.jsx(l.Suspense,{fallback:t.jsx("div",{className:"container mx-auto p-4",children:"Loading phase document..."}),children:t.jsx(r,{})})}}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[276,6,533,834,224,490],()=>a(4540));module.exports=t})();
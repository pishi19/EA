"use strict";(()=>{var e={};e.id=760,e.ids=[760],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},2048:e=>{e.exports=require("fs")},629:e=>{e.exports=require("fs/promises")},5315:e=>{e.exports=require("path")},9031:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>v,patchFetch:()=>j,requestAsyncStorage:()=>y,routeModule:()=>g,serverHooks:()=>h,staticGenerationAsyncStorage:()=>f});var o={};t.r(o),t.d(o,{GET:()=>x});var s=t(9303),a=t(8716),n=t(3131),i=t(7070),p=t(629),u=t.n(p),m=t(5315),c=t.n(m),l=t(3673),d=t.n(l);async function x(e){let{searchParams:r}=new URL(e.url),t=r.get("loopId");if(!t)return i.NextResponse.json({message:"Missing loopId"},{status:400});try{let e;let r=c().join(process.cwd(),"..","..","runtime","loops",`${t}.md`),o=await u().readFile(r,"utf-8"),{content:s}=d()(o),a=/```json:memory\n([\s\S]*?)\n```/g,n=[];for(;null!==(e=a.exec(s));)try{n.push(JSON.parse(e[1]))}catch(e){console.error("Failed to parse memory trace JSON:",e)}return i.NextResponse.json(n)}catch(r){console.error(`Failed to get memory traces for loop ${t}:`,r);let e=r instanceof Error?r.message:"Internal Server Error";return i.NextResponse.json({message:"Failed to get memory traces",error:e},{status:500})}}let g=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/memory/route",pathname:"/api/memory",filename:"route",bundlePath:"app/api/memory/route"},resolvedPagePath:"/Users/air/Projects/ora-system/src/ui/react-app/app/api/memory/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:y,staticGenerationAsyncStorage:f,serverHooks:h}=g,v="/api/memory/route";function j(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:f})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[276,972,673],()=>t(9031));module.exports=o})();
"use strict";(()=>{var e={};e.id=349,e.ids=[349],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},2048:e=>{e.exports=require("fs")},629:e=>{e.exports=require("fs/promises")},5315:e=>{e.exports=require("path")},9001:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>R,patchFetch:()=>q,requestAsyncStorage:()=>w,routeModule:()=>j,serverHooks:()=>N,staticGenerationAsyncStorage:()=>v});var s={};r.r(s),r.d(s,{GET:()=>h,dynamic:()=>y});var a=r(9303),o=r(8716),i=r(3131),n=r(7070),u=r(629),d=r.n(u),l=r(5315),c=r.n(l),p=r(3673),m=r.n(p),f=r(6716);let y="force-dynamic";async function g(e){let t=await d().readFile(e,"utf-8"),{data:r,content:s}=m()(t);return{metadata:r,content:s}}function x(e){return e.replace(".md","").replace("-"," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}async function h(e){try{let{searchParams:t}=new URL(e.url),r=t.get("file"),s=c().resolve(process.cwd(),"..","..","..","runtime","docs");try{await d().access(s)}catch(e){return n.NextResponse.json({message:"Documentation directory not found"},{status:404})}let a=(await d().readdir(s)).filter(e=>e.endsWith(".md"));if(0===a.length)return n.NextResponse.json({message:"No documentation files found"},{status:404});let o=[];for(let e of a){let t=c().join(s,e),r=await d().stat(t);try{let{metadata:s}=await g(t);o.push({filename:e,friendlyName:x(e),size:r.size,modified:r.mtime.toISOString(),title:s.title||x(e),tags:s.tags||[]})}catch(t){o.push({filename:e,friendlyName:x(e),size:r.size,modified:r.mtime.toISOString(),title:x(e),tags:[]})}}if(o.sort((e,t)=>e.friendlyName.localeCompare(t.friendlyName)),r){let e=o.find(e=>e.filename===r);if(!e)return n.NextResponse.json({message:"File not found"},{status:404});let t=c().join(s,r),{metadata:a,content:i}=await g(t),u=await (0,f.TU)(i);return n.NextResponse.json({fileList:o,selectedFile:{...e,metadata:a,content:u,rawContent:i}})}return n.NextResponse.json({fileList:o,selectedFile:null})}catch(t){console.error("Failed to get system docs data:",t);let e=t instanceof Error?t.message:"Internal Server Error";return n.NextResponse.json({message:"Failed to get system docs data",error:e},{status:500})}}let j=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/system-docs/route",pathname:"/api/system-docs",filename:"route",bundlePath:"app/api/system-docs/route"},resolvedPagePath:"/Users/air/Projects/ora-system/src/ui/react-app/app/api/system-docs/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:w,staticGenerationAsyncStorage:v,serverHooks:N}=j,R="/api/system-docs/route";function q(){return(0,i.patchFetch)({serverHooks:N,staticGenerationAsyncStorage:v})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,972,673,716],()=>r(9001));module.exports=s})();
exports.id=224,exports.ids=[224],exports.modules={550:(e,r,t)=>{Promise.resolve().then(t.bind(t,4211)),Promise.resolve().then(t.bind(t,458)),Promise.resolve().then(t.t.bind(t,9404,23))},6456:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},4211:(e,r,t)=>{"use strict";t.d(r,{default:()=>w});var s=t(326),a=t(7577),o=t(772),i=t(4432),n=t(3071),l=t(6999),d=t(7863);let c=a.forwardRef(({className:e,children:r,...t},a)=>(0,s.jsxs)(l.fC,{ref:a,className:(0,d.cn)("relative overflow-hidden",e),...t,children:[s.jsx(l.l_,{className:"h-full w-full rounded-[inherit]",children:r}),s.jsx(m,{}),s.jsx(l.Ns,{})]}));c.displayName=l.fC.displayName;let m=a.forwardRef(({className:e,orientation:r="vertical",...t},a)=>s.jsx(l.gb,{ref:a,orientation:r,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:s.jsx(l.q4,{className:"relative flex-1 rounded-full bg-border"})}));m.displayName=l.gb.displayName;var u=t(2851);let f=a.forwardRef(({className:e,...r},t)=>s.jsx(u.fC,{ref:t,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));f.displayName=u.fC.displayName;let x=a.forwardRef(({className:e,...r},t)=>s.jsx(u.Ee,{ref:t,className:(0,d.cn)("aspect-square h-full w-full",e),...r}));x.displayName=u.Ee.displayName;let p=a.forwardRef(({className:e,...r},t)=>s.jsx(u.NY,{ref:t,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));p.displayName=u.NY.displayName;var h=t(6343),g=t(6283),y=t(9436);let v={getChat:async(e,r,t)=>{let s=new URLSearchParams({contextType:e,contextId:r,...t&&{filePath:t}}),a=await fetch(`/api/contextual-chat?${s}`);if(!a.ok)throw Error("Failed to fetch chat");return a.json()},postMessage:async(e,r,t,s)=>{let a=await fetch("/api/contextual-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contextType:e,contextId:r,message:t,...s&&{filePath:s}})});if(!a.ok)throw Error("Failed to post message");return a.json()},logToSection:async(e,r,t,s,a)=>{let o=await fetch("/api/contextual-chat/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contextType:e,contextId:r,message:t,section:s,...a&&{filePath:a}})});if(!o.ok)throw Error("Failed to log message");return o.json()}};function w({contextType:e,contextId:r,filePath:t,title:l}){let[d,m]=(0,a.useState)([]),[u,w]=(0,a.useState)(""),[b,j]=(0,a.useState)(!0),[N,P]=(0,a.useState)(null),S=(0,a.useRef)(null),k=l||`ğŸ’¬ Chat - ${e} ${r}`,C=(0,a.useCallback)(async()=>{j(!0);try{let s=await v.getChat(e,r,t),a=(Array.isArray(s)?s:[]).sort((e,r)=>new Date(e.timestamp).getTime()-new Date(r.timestamp).getTime());m(a)}catch(e){P(e instanceof Error?e.message:"An unknown error occurred")}finally{j(!1)}},[e,r,t]),D=async s=>{if(s.preventDefault(),!u.trim())return;let a={speaker:"user",message:u.trim()};w("");let o={...a,timestamp:new Date().toISOString()};m(e=>[...e,o].sort((e,r)=>new Date(e.timestamp).getTime()-new Date(r.timestamp).getTime()));try{let s=await v.postMessage(e,r,a,t);m(e=>e.map(e=>e.timestamp.endsWith("Z")?e:s)),C()}catch(e){P("Failed to send message.")}},T=async(s,a)=>{try{await v.logToSection(e,r,s,a,t);let o="memory"===a?"Memory Trace":"Execution Log";P(`âœ… Successfully added to ${o}`),setTimeout(()=>P(null),3e3)}catch(e){P(`Failed to log to ${a} section.`)}};return(0,s.jsxs)(n.Zb,{className:"flex flex-col h-full",children:[s.jsx(n.Ol,{children:s.jsx(n.ll,{children:k})}),(0,s.jsxs)(n.aY,{className:"flex-1 flex flex-col p-0",children:[s.jsx(c,{className:"flex-1 p-4",ref:S,children:(0,s.jsxs)("div",{className:"space-y-4",children:[b&&s.jsx("p",{children:"Loading chat..."}),N&&s.jsx("p",{className:N.startsWith("âœ…")?"text-green-600":"text-red-500",children:N}),!b&&0===d.length&&s.jsx("p",{className:"text-muted-foreground text-center",children:"No messages yet."}),d.map((e,r)=>(0,s.jsxs)("div",{className:`flex items-start gap-3 ${"user"===e.speaker?"justify-end":""}`,children:["ora"===e.speaker&&(0,s.jsxs)(f,{className:"h-8 w-8",children:[s.jsx(x,{src:"/ora-avatar.png"}),s.jsx(p,{children:"O"})]}),(0,s.jsxs)("div",{className:`rounded-lg px-3 py-2 text-sm ${"user"===e.speaker?"bg-primary text-primary-foreground":"bg-muted"} max-w-[80%]`,children:[s.jsx("p",{className:"whitespace-pre-wrap",children:e.message}),s.jsx("time",{className:"text-xs text-muted-foreground/80 block mt-1",children:new Date(e.timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}),"ora"===e.speaker&&(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsxs)(o.z,{size:"sm",variant:"outline",onClick:()=>T(e.message,"memory"),className:"text-xs h-6 px-2",children:[s.jsx(h.Z,{className:"h-3 w-3 mr-1"}),"Append to Memory Trace"]}),(0,s.jsxs)(o.z,{size:"sm",variant:"outline",onClick:()=>T(e.message,"execution"),className:"text-xs h-6 px-2",children:[s.jsx(g.Z,{className:"h-3 w-3 mr-1"}),"Log to Execution Log"]})]})]}),"user"===e.speaker&&(0,s.jsxs)(f,{className:"h-8 w-8",children:[s.jsx(x,{src:"/user-avatar.png"}),s.jsx(p,{children:"U"})]})]},r))]})}),s.jsx("div",{className:"p-4 border-t",children:(0,s.jsxs)("form",{onSubmit:D,className:"flex items-center gap-2",children:[s.jsx(i.I,{value:u,onChange:e=>w(e.target.value),placeholder:"Type a message...",autoComplete:"off"}),s.jsx(o.z,{type:"submit",size:"icon",disabled:!u.trim(),children:s.jsx(y.Z,{className:"h-4 w-4"})})]})})]})]})}},772:(e,r,t)=>{"use strict";t.d(r,{z:()=>d});var s=t(326),a=t(7577),o=t(4214),i=t(9360),n=t(7863);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...i},d)=>{let c=a?o.g7:"button";return s.jsx(c,{className:(0,n.cn)(l({variant:r,size:t,className:e})),ref:d,...i})});d.displayName="Button"},3071:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>c,eW:()=>m,ll:()=>l});var s=t(326),a=t(7577),o=t(7863);let i=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let n=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let l=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let m=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",e),...r}));m.displayName="CardFooter"},458:(e,r,t)=>{"use strict";t.d(r,{Drawer:()=>n,DrawerContent:()=>m,DrawerTrigger:()=>l});var s=t(326),a=t(7577),o=t(1244),i=t(7863);let n=({shouldScaleBackground:e=!0,...r})=>s.jsx(o.dy.Root,{shouldScaleBackground:e,...r});n.displayName="Drawer";let l=o.dy.Trigger,d=o.dy.Portal;o.dy.Close;let c=a.forwardRef(({className:e,...r},t)=>s.jsx(o.dy.Overlay,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80",e),...r}));c.displayName=o.dy.Overlay.displayName;let m=a.forwardRef(({className:e,children:r,...t},a)=>(0,s.jsxs)(d,{children:[s.jsx(c,{}),(0,s.jsxs)(o.dy.Content,{ref:a,className:(0,i.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...t,children:[s.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]})]}));m.displayName="DrawerContent",a.forwardRef(({className:e,...r},t)=>s.jsx(o.dy.Title,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...r})).displayName=o.dy.Title.displayName,a.forwardRef(({className:e,...r},t)=>s.jsx(o.dy.Description,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})).displayName=o.dy.Description.displayName},4432:(e,r,t)=>{"use strict";t.d(r,{I:()=>i});var s=t(326),a=t(7577),o=t(7863);let i=a.forwardRef(({className:e,type:r,...t},a)=>s.jsx("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));i.displayName="Input"},7863:(e,r,t)=>{"use strict";t.d(r,{cn:()=>o});var s=t(1135),a=t(1009);function o(...e){return(0,a.m6)((0,s.W)(e))}},7218:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b,metadata:()=>w});var s=t(9510),a=t(5384),o=t.n(a);t(7272);var i=t(7371),n=t(1159),l=t(3025),d=t(6145),c=t(5761),m=t(2386);let u=(0,d.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=n.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...o},i)=>{let n=a?l.g7:"button";return s.jsx(n,{className:function(...e){return(0,m.m6)((0,c.W)(e))}(u({variant:r,size:t,className:e})),ref:i,...o})});f.displayName="Button";var x=t(8570);let p=(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/ui/drawer.tsx#Drawer`);(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/ui/drawer.tsx#DrawerPortal`),(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/ui/drawer.tsx#DrawerOverlay`);let h=(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/ui/drawer.tsx#DrawerTrigger`);(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/ui/drawer.tsx#DrawerClose`);let g=(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/ui/drawer.tsx#DrawerContent`);(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/ui/drawer.tsx#DrawerHeader`),(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/ui/drawer.tsx#DrawerFooter`),(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/ui/drawer.tsx#DrawerTitle`),(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/ui/drawer.tsx#DrawerDescription`);let y=(0,x.createProxy)(String.raw`/Users/air/Projects/ora-system/src/ui/react-app/components/chat/ChatPane.tsx#default`);var v=t(2685);let w={title:"Ora System",description:"Context-aware Autonomous Agent"};function b({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:o().className,children:[s.jsx("header",{className:"p-4 border-b",children:(0,s.jsxs)("nav",{className:"flex items-center space-x-4",children:[s.jsx(i.default,{href:"/",className:"font-bold",children:"Ora System"}),s.jsx(i.default,{href:"/task-executor",className:"text-sm text-muted-foreground hover:text-primary",children:"Task Executor"}),s.jsx(i.default,{href:"/system-view",className:"text-sm text-muted-foreground hover:text-primary",children:"System View"}),s.jsx(i.default,{href:"/contextual-chat-demo",className:"text-sm text-muted-foreground hover:text-primary",children:"Semantic Chat"}),s.jsx(i.default,{href:"/semantic-chat-classic",className:"text-sm text-muted-foreground hover:text-primary",children:"Contextual Chat Architecture"}),s.jsx(i.default,{href:"/workstream-filter-demo",className:"text-sm text-muted-foreground hover:text-primary",children:"Workstream Filter Demo"}),s.jsx(i.default,{href:"/system-docs",className:"text-sm text-muted-foreground hover:text-primary",children:"System Docs"}),s.jsx(i.default,{href:"/phase-doc",className:"text-sm text-muted-foreground hover:text-primary",children:"Phase Document"}),s.jsx(i.default,{href:"/planning",className:"text-sm text-muted-foreground hover:text-primary",children:"Task Board"})]})}),s.jsx("main",{children:e}),(0,s.jsxs)(p,{children:[s.jsx(h,{asChild:!0,children:s.jsx(f,{variant:"outline",size:"icon",className:"fixed bottom-8 right-8 rounded-full h-14 w-14 shadow-lg",children:s.jsx(v.Z,{className:"h-6 w-6"})})}),s.jsx(g,{className:"h-[80vh] flex flex-col",children:s.jsx("div",{className:"flex-1 p-4",children:s.jsx(y,{contextType:"phase",contextId:"roadmap",title:"Workstream: Roadmap"})})})]})]})})}},7272:()=>{}};